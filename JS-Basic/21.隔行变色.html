<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		li{
			height: 20px;
			list-style: none;
			
			margin-bottom: 2px;
		}
		#active{
			background: #000000;
		}
		.active{
			background-color: #000000;
			height: 30px;
		}
	</style>
	<script>
			window.onload=function(){
				var oList=document.getElementById('list');
				var aLi=oList.getElementsByTagName('li');
				var arrColor=['red','green','yellow','pink','blue'];
				var onColor='black';
				var onOver='gray';

				var lastOn='';
				var length=aLi.length;
				var Clength=arrColor.length;
				
				//循环变色
				for (var i = 0; i < length; i++) {
					aLi[i].style.background=arrColor[i%Clength];
				}


				for (var i = 0; i < length; i++) {
					//添加索引及布尔属性
					aLi[i].index=i;
					aLi[i].onOff=false;

					//点击切换颜色
					aLi[i].onclick=function(){
						if (this.onOff) {
							this.style.background=arrColor[this.index%Clength];
							this.onOff=false;
						}else{
								for (var i = 0; i < length; i++) {
									aLi[i].style.background=arrColor[i%Clength];
									aLi[i].onOff=false;
							}
						this.style.background='black';
						this.onOff=true;
						
						}
					}	

						//移入移出切换颜色
						aLi[i].onmouseover=function(){
							if (this.onOff) {
								this.style.background='black';
							}else{
								this.style.background='gray';
							}
							
						}

						aLi[i].onmouseout=function(){
							if (this.onOff) {
								this.style.background='black';
							}else{
								this.style.background=arrColor[this.index%Clength];
							}
							
						}
					
					
				}

				

			}
	</script>
</head>
<body>
	<ul id="list">
		<li class="active"></li>
		<li id="active"></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
</body>
</html>